        -:    0:Source:C:/Users/Dan/Desktop/Uni/OOP/Lab6/dynamic_vector.h
        -:    0:Graph:C:\Users\Dan\Desktop\Uni\OOP\Lab6\cmake-build-debug\CMakeFiles\Lab6.dir\tests.cpp.gcno
        -:    0:Data:C:\Users\Dan\Desktop\Uni\OOP\Lab6\cmake-build-debug\CMakeFiles\Lab6.dir\tests.cpp.gcda
        -:    0:Runs:1
        -:    0:Programs:1
        -:    1://
        -:    2:// Created by Dan on 4/18/2020.
        -:    3://
        -:    4:
        -:    5:#ifndef LAB6_DYNAMIC_VECTOR_H
        -:    6:#define LAB6_DYNAMIC_VECTOR_H
        -:    7:#define INITIAL_CAPACITY 10
        -:    8:
        -:    9:#include <stdexcept>
        -:   10:
        -:   11:#include "guardian_statue.h"
        -:   12:
        -:   13:template <class T>
        -:   14:class DynamicVector {
        -:   15:private:
        -:   16:    T* elements_;
        -:   17:    int size_, capacity_;
        -:   18:    void resize();
        -:   19:public:
        -:   20:    DynamicVector();
        -:   21:    DynamicVector(DynamicVector<T> const &dynamic_vector);
        -:   22:    ~DynamicVector();
        -:   23:    void push_back(T const &element);
        -:   24:    void pop_back(int position);
        -:   25:    T &at(int position) const;
        -:   26:    void insert(T const &element, int position);
        -:   27:    int get_size() const;
        -:   28:};
        -:   29:
        -:   30:/**
        -:   31: * \brief creates a new DynamicVector of capacity 10
        -:   32: */
        -:   33:template<class T>
       10:   34:inline DynamicVector<T>::DynamicVector() {
       10:   35:    size_ = 0;
       10:   36:    capacity_ = INITIAL_CAPACITY;
       10:   37:    elements_ = new T[INITIAL_CAPACITY];
       10:   37-block  0
       10:   38:}
        -:   39:
        -:   40:/**
        -:   41: * \brief resizes the vector, doubling its capacity
        -:   42: */
        -:   43:template<class T>
       49:   44:inline void DynamicVector<T>::resize() {
       49:   45:    capacity_ *= 2;
      49*:   46:    T *newElements = new T[capacity_];
       49:   46-block  0
       49:   46-block  1
    %%%%%:   46-block  2
       49:   46-block  3
       49:   47:    int index = 0;
     8939:   48:    for (int i = 0; i < size_; i++) {
     8939:   48-block  0
     8890:   49:        newElements[i] = elements_[i];
     8890:   49-block  0
        -:   50:    }
       49:   51:    delete[] elements_;
       49:   51-block  0
       49:   51-block  1
       49:   52:    elements_ = newElements;
       49:   53:}
        -:   54:
        -:   55:/**
        -:   56: * \brief creates a new DynamicVector as a copy of a given one
        -:   57: * \param dynamic_vector given DynamicVector
        -:   58: */
        -:   59:template<class T>
        1:   60:inline DynamicVector<T>::DynamicVector(DynamicVector<T> const &dynamic_vector) {
        1:   61:    size_ = dynamic_vector.size_;
        1:   62:    capacity_ = dynamic_vector.capacity_;
       1*:   63:    elements_ = new T[capacity_];
        1:   63-block  0
        1:   63-block  1
    %%%%%:   63-block  2
        1:   63-block  3
        2:   64:    for (int i = 0; i < size_; i++) {
        2:   64-block  0
        1:   65:        elements_[i] = dynamic_vector.elements_[i];
        1:   65-block  0
        -:   66:    }
        1:   67:}
        -:   68:
        -:   69:/**
        -:   70: * \brief deallocates the memory of the DynamicVector
        -:   71: */
        -:   72:template<class T>
      11*:   73:inline DynamicVector<T>::~DynamicVector() {
      11*:   74:    delete[] elements_;
      11*:   75:}
------------------
_ZN13DynamicVectorI14GuardianStatueED1Ev:
    #####:   73:inline DynamicVector<T>::~DynamicVector() {
    #####:   74:    delete[] elements_;
    %%%%%:   74-block  0
    %%%%%:   74-block  1
    %%%%%:   74-block  2
    %%%%%:   74-block  3
    %%%%%:   74-block  4
    #####:   75:}
------------------
_ZN13DynamicVectorIiED1Ev:
       11:   73:inline DynamicVector<T>::~DynamicVector() {
       11:   74:    delete[] elements_;
       11:   74-block  0
       11:   74-block  1
       11:   75:}
------------------
        -:   76:
        -:   77:/**
        -:   78: * \brief adds a new element at the end of the DynamicVector
        -:   79: * \param element the new element
        -:   80: */
        -:   81:template<class T>
     7002:   82:inline void DynamicVector<T>::push_back(T const& element) {
     7002:   83:    if (size_ == capacity_) {
     7002:   83-block  0
       49:   84:        resize();
       49:   84-block  0
        -:   85:    }
     7002:   86:    elements_[size_++] = element;
     7002:   87:}
        -:   88:
        -:   89:/**
        -:   90: * \brief deletes the element on the given position if it exists, else throws error
        -:   91: * \param position the given position
        -:   92: */
        -:   93:template<class T>
        2:   94:void DynamicVector<T>::pop_back(const int position) {
        2:   95:    if (position < size_ && position > -1) {
        2:   95-block  0
        1:   95-block  1
      949:   96:        for (auto i = position; i < size_; i++) {
        1:   96-block  0
      949:   96-block  1
      948:   97:            elements_[i] = elements_[i + 1];
      948:   97-block  0
        -:   98:        }
        1:   99:        size_--;
        1:   99-block  0
        -:  100:    } else {
        1:  101:        throw std::invalid_argument("value out of bounds");
        1:  101-block  0
        1:  101-block  1
    $$$$$:  101-block  2
        -:  102:    }
        1:  103:}
        1:  103-block  0
        -:  104:
        -:  105:/**
        -:  106: * \brief returns the element on the given position if it exists, else throws error
        -:  107: * \param position given position
        -:  108: * \return element on the given position
        -:  109: */
        -:  110:template<class T>
       3*:  111:inline T& DynamicVector<T>::at(int position) const {
       3*:  112:    if (position < size_ && position > -1) {
       2*:  113:        return elements_[position];
        -:  114:    }
       1*:  115:    throw std::invalid_argument("value out of bounds");
        -:  116:}
------------------
_ZNK13DynamicVectorI14GuardianStatueE2atEi:
    #####:  111:inline T& DynamicVector<T>::at(int position) const {
    #####:  112:    if (position < size_ && position > -1) {
    %%%%%:  112-block  0
    %%%%%:  112-block  1
    #####:  113:        return elements_[position];
    %%%%%:  113-block  0
    %%%%%:  113-block  1
        -:  114:    }
    #####:  115:    throw std::invalid_argument("value out of bounds");
    %%%%%:  115-block  0
    %%%%%:  115-block  1
    $$$$$:  115-block  2
        -:  116:}
------------------
_ZNK13DynamicVectorIiE2atEi:
        3:  111:inline T& DynamicVector<T>::at(int position) const {
        3:  112:    if (position < size_ && position > -1) {
        3:  112-block  0
        2:  112-block  1
        2:  113:        return elements_[position];
        2:  113-block  0
        2:  113-block  1
        -:  114:    }
        1:  115:    throw std::invalid_argument("value out of bounds");
        1:  115-block  0
        1:  115-block  1
    $$$$$:  115-block  2
        -:  116:}
------------------
        -:  117:
        -:  118:/**
        -:  119: * \brief inserts an element on a given position, if it exists, else throws error
        -:  120: * \param element the element to be inserted
        -:  121: * \param position the position on which the element is to be inserted
        -:  122: */
        -:  123:template<class T>
        2:  124:inline void DynamicVector<T>::insert(T const &element, int position) {
        2:  125:    if (position < size_ && position > -1) {
        2:  125-block  0
        1:  125-block  1
        1:  126:        if (size_ == capacity_) {
        1:  126-block  0
    #####:  127:            resize();
    %%%%%:  127-block  0
        -:  128:        }
        1:  129:        size_++;
      927:  130:        for (int i = size_ - 1; i > position; i--) {
        1:  130-block  0
      927:  130-block  1
      926:  131:            elements_[i] = elements_[i - 1];
      926:  131-block  0
        -:  132:        }
        1:  133:        elements_[position] = element;
        1:  133-block  0
        -:  134:    } else {
        1:  135:        throw std::invalid_argument("Index out of bounds");
        1:  135-block  0
        1:  135-block  1
    $$$$$:  135-block  2
        -:  136:    }
        1:  137:}
        1:  137-block  0
        -:  138:
        -:  139:/**
        -:  140: * \brief returns the size of the DynamicVector
        -:  141: * \return the size of the vector
        -:  142: */
        -:  143:template<class T>
       5*:  144:inline int DynamicVector<T>::get_size() const {
       5*:  145:    return size_;
        -:  146:}
        -:  147:
        -:  148:#endif//LAB6_DYNAMIC_VECTOR_H
